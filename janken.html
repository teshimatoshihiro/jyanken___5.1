<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/sample.css">
  <title>じゃんけん</title>
</head>

<body>
  <header>
    <h1>じゃんけん</h1>
  </header>

  <main>
    <ul>
      <li id="gu_btn">グー</li>
      <li id="cho_btn">チョキ</li>
      <li id="par_btn">パー</li>
    </ul>
    <div id="com_hand">コンピュータの出した手は？</div>
    <div id="result">結果は？</div>
  </main>

  <footer>フッター</footer>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>
    /////////////////////////グーの手///////////////////////

    $("#gu_btn").on('click', function () {

      const min = 0;
      const max = 2;
      // const max = 99;(大きくしておいて、下記のif条件を操作すると確率が変わる)
      const randomNumber2 = Math.floor(Math.random() * (max - min + 1));
      console.log(randomNumber2);

      // 0⇒グー
      // 1  チョキ
      // 2  パー

      if (randomNumber2 === 0) {
        // alert("グーです");
        $("#com_hand").text("グー")
        $("#result").text("あいこです！")

      } else if (randomNumber2 === 1) {
        // alert("チョキです")
        $("#com_hand").text("チョキ")
        $("#result").text("あなたの勝ちです！")
      } else if (randomNumber2 === 2) {
        // alert("パーです")
        $("#com_hand").text("パー")
        $("#result").text("あなたの負けです！")
      }
    })

    // ////////////チョキの場合//////////////////////////

    $("#cho_btn").on('click', function () {

      const min = 0;
      const max = 2;
      // const max = 99;(大きくしておいて、下記のif条件を操作すると確率が変わる)
      const randomNumber2 = Math.floor(Math.random() * (max - min + 1));
      console.log(randomNumber2);

      // 0⇒グー
      // 1  チョキ
      // 2  パー

      if (randomNumber2 === 0) {
        // alert("グーです");
        $("#com_hand").text("グー")
        $("#result").text("あなたの負けです！")
      } else if (randomNumber2 === 1) {
        // alert("チョキです")
        $("#com_hand").text("チョキ")
        $("#result").text("あいこです！")

      } else if (randomNumber2 === 2) {
        // alert("パーです")
        $("#com_hand").text("パー")
        $("#result").text("あなたの勝ちです！")

      }
    })

    // ////////////パーの場合//////////////////////////

    $("#par_btn").on('click', function () {

      const min = 0;
      const max = 2;
      // const max = 99;(大きくしておいて、下記のif条件を操作すると確率が変わる)
      const randomNumber2 = Math.floor(Math.random() * (max - min + 1));
      console.log(randomNumber2);

      // 0⇒グー
      // 1  チョキ
      // 2  パー

      if (randomNumber2 === 0) {
        // alert("グーです");
        $("#com_hand").text("グー")
        $("#result").text("あなたの勝ちです！")

      } else if (randomNumber2 === 1) {
        // alert("チョキです")
        $("#com_hand").text("チョキ")
        $("#result").text("あなたの負けです！")

      } else if (randomNumber2 === 2) {
        // alert("パーです")
        $("#com_hand").text("パー")
        $("#result").text("あいこです！")
      }
    })

    // //////////勝率/////////////////
 
    let winCount = 0;
    let loseCount = 0;
    let drawCount = 0;

    $("#gu_btn").on('click', function () {
      // ...省略...
      if (randomNumber2 === 0) {
        // ...省略...
        drawCount++;
      } else if (randomNumber2 === 1) {
        // ...省略...
        winCount++;
      } else if (randomNumber2 === 2) {
        // ...省略...
        loseCount++;
      }
      calculateWinRate();
    })

    $("#cho_btn").on('click', function () {
      // ...省略...
      if (randomNumber2 === 0) {
        // ...省略...
        loseCount++;
      } else if (randomNumber2 === 1) {
        // ...省略...
        drawCount++;
      } else if (randomNumber2 === 2) {
        // ...省略...
        winCount++;
      }
      calculateWinRate();
    })

    $("#par_btn").on('click', function () {
      // ...省略...
      if (randomNumber2 === 0) {
        // ...省略...
        winCount++;
      } else if (randomNumber2 === 1) {
        // ...省略...
        loseCount++;
      } else if (randomNumber2 === 2) {
        // ...省略...
        drawCount++;
      }
      calculateWinRate();
    })

    function calculateWinRate() {
      const totalGames = winCount + loseCount + drawCount;
      const winRate = totalGames === 0 ? 0 : (winCount / totalGames) * 100;
      console.log(`勝率：${winRate}%`);
    }


  </script>

</body>

</html>